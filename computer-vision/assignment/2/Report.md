# 计算机视觉-Ex2

## 作业要求

1. 改写给出的 Code1 ，用 CImg 库进行所有的图像读写、数据处理。
2. 在原来的代码基础上, 增加一个函数:首先把相邻的边缘连成长的线条，并删除 长度小于 20 的 Edge。 

## 过程

### 改写代码

给出的 Code1 代码中本身是有不少 bug 的，包括处理选项参数时 `-s` 选项没有 break 会导致出错，一些地方的 if 条件括号位置圈错，以及有几处地方的图像的 x，y 坐标弄反导致处理非正方形图像时只处理了部分像素的情况等等。改写后的代码对找到了的 bug 进行了修正，对于一些部分进行了较大的改写。

以下将讲述程序从输入开始整个过程的大致情况：

1. 命令行参数：原版代码中写的使用方式是`"Usage:edge {-roberts,-prewitt,-sobel,-frei} [-skipNMS] hresh_low thresh_high] img "`, 然而实际的实现指定算子是没有作用的，因此在改写的版本中的命令行使用方式改为：`Usage:canny [-skipNMS] -t thresh_low thresh_high filename`

2. 